{% include layouts/lang.html %}
<header class="header">
  <button id="header__hamburger-button" class="header__hamburger-button">
    <span class="header__hamburger-button__icon"></span>
    <span class="header__hamburger-button__text">Menu</span>
  </button>
  {% if include.is_top %}<h1 class="top-h1">{% endif %}
    <a class="header__title" href="/{% if lang == "en" %}en/{% endif %}">
      <span class="header__title__main">utelecon</span>
      <span class="header__title__sub">{%
        if lang == "en"
          %}Online Class / Web Conference Portal Site @ the University of Tokyo{%
        else
          %}オンライン授業・Web会議ポータルサイト @ 東京大学{%
        endif
      %}</span>
    </a>
    {% if include.is_top %}</h1>{% endif %}
  <div id="header__hamburger-contents" class="header__hamburger-contents">
    <div class="header__links">
      <div class="gcse-search"></div>
      <div>
        <a href="/{% if lang == "en" %}en/{% endif %}">TOP</a> | {%
          if lang == "en"
            %}<a href="{{ page.url | replace_first: "en/", "" }}">日本語</a>{%
          else
            %}<a href="/en{{page.url}}">English</a>{%
          endif
        %}
      </div>
    </div>
    <nav class="header__nav">
      <ul>
        {% for item in site.data.nav[lang] %}
          <li>
            <div class="header_nav_text">{{ item.name }}</div>
            <ul>
              {% for second in item.contents %}
                <li><a href="{{ second.url }}"{%
                  assign url_slice = second.url | slice: 0, 4
                %}{%
                  if url_slice == "http"
                %} target="_blank" rel="noopener"{%
                  endif
                %}>{{ second.name }}</a></li>
              {% endfor %}
            </ul>
          </li>
        {% endfor %}
      </ul>
    </nav>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      "use strict";
      let contents = document.getElementById("header__hamburger-contents");
      document.getElementById("header__hamburger-button").addEventListener("click", function () {
        if (contents.classList.contains("header__hamburger-contents--open")) {
          contents.classList.remove("header__hamburger-contents--open");
        } else {
          contents.classList.add("header__hamburger-contents--open");
        }
      })
    })
  </script>
</header>
